<md-list>
  <md-list-item class="md-2-line" ng-repeat="message in conversation.getMessages() | orderBy : 'date'">
   	<avatar user="message.getAuthor()"></avatar>
    <div class="md-list-item-text" layout="column">
      <h3>{{ message.getAuthor().toString() }}</h3>
      <p>{{ message.body }}</p>
    </div>
    <md-button ng-disabled="newMessage.author !== currentUser"
               ng-click="deleteMessage(message)">
      Supprimer
    </md-button>
  </md-list-item>
  <md-divider ></md-divider>
  <div layout="row">
   	<avatar user="currentUser"></avatar>
    <md-input-container>
      <label>Nouveau message</label>
      <input ng-model="newMessage.body">
    </md-input-container>
    <md-button class="md-primary"
               ng-disabled="newMessage === undefined || newMessage.body.length === 0"
               ng-click="addMessage(newMessage)">
      Envoyer
    </md-button>
  </div>
</md-list>